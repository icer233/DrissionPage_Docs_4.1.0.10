# ğŸ›°ï¸ è®¿é—®ç½‘é¡µ

æœ¬èŠ‚ä»‹ç» Tab å¯¹è±¡è®¿é—®ç½‘é¡µçš„ç›¸å…³å†…å®¹ã€‚

## âœ…ï¸ï¸ è¿æ¥æ–¹æ³•

### ğŸ“Œ `get()`

è¯¥æ–¹æ³•ç”¨äºè·³è½¬åˆ°ä¸€ä¸ªç½‘å€ã€‚å½“è¿æ¥å¤±è´¥æ—¶ï¼Œç¨‹åºä¼šè¿›è¡Œé‡è¯•ã€‚

å¯æŒ‡å®šæœ¬åœ°æ–‡ä»¶è·¯å¾„ã€‚

|     å‚æ•°åç§°      |          ç±»å‹           | é»˜è®¤å€¼  | è¯´æ˜                                                         |
| :---------------: | :---------------------: | :-----: | ------------------------------------------------------------ |
|       `url`       |          `str`          |  å¿…å¡«   | ç›®æ ‡ urlï¼Œå¯æŒ‡å‘æœ¬åœ°æ–‡ä»¶è·¯å¾„                                 |
|   `show_errmsg`   |         `bool`          | `False` | è¿æ¥å‡ºé”™æ—¶æ˜¯å¦æ˜¾ç¤ºå’ŒæŠ›å‡ºå¼‚å¸¸                                 |
|      `retry`      |          `int`          | `None`  | é‡è¯•æ¬¡æ•°ï¼Œä¸º`None`æ—¶ä½¿ç”¨é¡µé¢å‚æ•°ï¼Œé»˜è®¤`3`                    |
|    `interval`     |         `float`         | `None`  | é‡è¯•é—´éš”ï¼ˆç§’ï¼‰ï¼Œä¸º`None`æ—¶ä½¿ç”¨é¡µé¢å‚æ•°ï¼Œé»˜è®¤`2`              |
|     `timeout`     |         `float`         | `None`  | åŠ è½½è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰                                           |
|      -------      |         -------         |   ---   | ------ ä»¥ä¸‹å‚æ•°ä»… s æ¨¡å¼æœ‰æ•ˆ ------                          |
|     `params`      |         `dict`          | `None`  | url è¯·æ±‚å‚æ•°                                                 |
|      `data`       |      `dict` `str`       | `None`  | æºå¸¦çš„æ•°æ®                                                   |
|      `json`       |      `dict` `str`       | `None`  | è¦å‘é€çš„ JSON æ•°æ®ï¼Œä¼šè‡ªåŠ¨è®¾ç½® Content-Type ä¸º`'application/json'` |
|     `headers`     |         `dict`          | `None`  | è¯·æ±‚å¤´                                                       |
|     `cookies`     |   `dict` `CookieJar`    | `None`  | cookies ä¿¡æ¯                                                 |
|      `files`      |          `Any`          | `None`  | è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­é”®æ˜¯æ–‡ä»¶åï¼Œå€¼æ˜¯æ–‡ä»¶å¯¹è±¡æˆ–æ–‡ä»¶è·¯å¾„ |
|      `auth`       |          `Any`          | `None`  | èº«ä»½è®¤è¯ä¿¡æ¯                                                 |
| `allow_redirects` |         `bool`          | `True`  | æ˜¯å¦å…è®¸é‡å®šå‘                                               |
|     `proxies`     |         `dict`          | `None`  | ä»£ç†ä¿¡æ¯                                                     |
|      `hooks`      |          `Any`          | `None`  | å›è°ƒæ–¹æ³•                                                     |
|     `stream`      |         `bool`          | `None`  | æ˜¯å¦ä½¿ç”¨æµå¼ä¼ è¾“                                             |
|     `verify`      |      `bool` `str`       | `None`  | æ˜¯å¦éªŒè¯ SSL è¯ä¹¦                                            |
|      `cert`       | `str` `Tuple[str, str]` | `None`  | SSL å®¢æˆ·ç«¯è¯ä¹¦æ–‡ä»¶çš„è·¯å¾„(.pem æ ¼å¼)ï¼Œæˆ–('cert', 'key')å…ƒç»„   |

| è¿”å›ç±»å‹ | è¯´æ˜         |
| :------: | ------------ |
|  `bool`  | è®¿é—®æ˜¯å¦æˆåŠŸ |

**ç¤ºä¾‹ï¼š**

```python
from DrissionPage import Chromium

tab = Chromium().latest_tab
tab.get('https://DrissionPage.cn')
```



------

### ğŸ“Œ `post()`

æ­¤æ–¹æ³•ç”¨å†…ç½®çš„`Session`å¯¹è±¡ä»¥ POST æ–¹å¼å‘é€è¯·æ±‚ã€‚

å› ä¸º`post()`æ˜¯ä½¿ç”¨`requests`çš„`post()`æ–¹æ³•å‘é€è¯·æ±‚ï¼Œå‚æ•°å’Œç”¨æ³•ä¸`requests`ä¸€è‡´ã€‚

æ­¤æ–¹æ³•è¿”å›è¯·æ±‚ç»“æœ`Response`å¯¹è±¡ã€‚

s æ¨¡å¼æ—¶ï¼Œ`post()`åç»“æœè¿˜å¯ç”¨é¡µé¢å¯¹è±¡çš„`html`æˆ–`json`å±æ€§è·å–ã€‚

|     å‚æ•°åç§°      |          ç±»å‹           | é»˜è®¤å€¼  | è¯´æ˜                                                         |
| :---------------: | :---------------------: | :-----: | ------------------------------------------------------------ |
|       `url`       |          `str`          |  å¿…å¡«   | ç›®æ ‡ urlï¼Œå¯æŒ‡å‘æœ¬åœ°æ–‡ä»¶è·¯å¾„                                 |
|   `show_errmsg`   |         `bool`          | `False` | è¿æ¥å‡ºé”™æ—¶æ˜¯å¦æ˜¾ç¤ºå’ŒæŠ›å‡ºå¼‚å¸¸                                 |
|      `retry`      |          `int`          | `None`  | é‡è¯•æ¬¡æ•°ï¼Œä¸º`None`æ—¶ä½¿ç”¨é¡µé¢å‚æ•°ï¼Œé»˜è®¤`3`                    |
|    `interval`     |         `float`         | `None`  | é‡è¯•é—´éš”ï¼ˆç§’ï¼‰ï¼Œä¸º`None`æ—¶ä½¿ç”¨é¡µé¢å‚æ•°ï¼Œé»˜è®¤`2`              |
|     `timeout`     |         `float`         | `None`  | åŠ è½½è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰                                           |
|     `params`      |         `dict`          | `None`  | url è¯·æ±‚å‚æ•°                                                 |
|      `data`       |      `dict` `str`       | `None`  | æºå¸¦çš„æ•°æ®                                                   |
|      `json`       |      `dict` `str`       | `None`  | è¦å‘é€çš„ JSON æ•°æ®ï¼Œä¼šè‡ªåŠ¨è®¾ç½® Content-Type ä¸º`'application/json'` |
|     `headers`     |         `dict`          | `None`  | è¯·æ±‚å¤´                                                       |
|     `cookies`     |   `dict` `CookieJar`    | `None`  | cookies ä¿¡æ¯                                                 |
|      `files`      |          `Any`          | `None`  | è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­é”®æ˜¯æ–‡ä»¶åï¼Œå€¼æ˜¯æ–‡ä»¶å¯¹è±¡æˆ–æ–‡ä»¶è·¯å¾„ |
|      `auth`       |          `Any`          | `None`  | èº«ä»½è®¤è¯ä¿¡æ¯                                                 |
| `allow_redirects` |         `bool`          | `True`  | æ˜¯å¦å…è®¸é‡å®šå‘                                               |
|     `proxies`     |         `dict`          | `None`  | ä»£ç†ä¿¡æ¯                                                     |
|      `hooks`      |          `Any`          | `None`  | å›è°ƒæ–¹æ³•                                                     |
|     `stream`      |         `bool`          | `None`  | æ˜¯å¦ä½¿ç”¨æµå¼ä¼ è¾“                                             |
|     `verify`      |      `bool` `str`       | `None`  | æ˜¯å¦éªŒè¯ SSL è¯ä¹¦                                            |
|      `cert`       | `str` `Tuple[str, str]` | `None`  | SSL å®¢æˆ·ç«¯è¯ä¹¦æ–‡ä»¶çš„è·¯å¾„(.pem æ ¼å¼)ï¼Œæˆ–('cert', 'key')å…ƒç»„   |

|  è¿”å›ç±»å‹  | è¯´æ˜                   |
| :--------: | ---------------------- |
| `Response` | è·å–åˆ°çš„`Response`å¯¹è±¡ |

------

## âœ…ï¸ï¸ è®¾ç½®è¶…æ—¶å’Œé‡è¯•

ç½‘ç»œä¸ç¨³å®šæ—¶ï¼Œè®¿é—®é¡µé¢ä¸ä¸€å®šæˆåŠŸï¼Œ`get()`æ–¹æ³•å†…ç½®äº†è¶…æ—¶å’Œé‡è¯•åŠŸèƒ½ã€‚é€šè¿‡`retry`ã€`interval`ã€`timeout`ä¸‰ä¸ªå‚æ•°è¿›è¡Œè®¾ç½®ã€‚
å…¶ä¸­ï¼Œå¦‚ä¸æŒ‡å®š`timeout`å‚æ•°ï¼Œè¯¥å‚æ•°ä¼šä½¿ç”¨`ChromiumPage`çš„`timeouts`å±æ€§çš„`page_load`å‚æ•°ä¸­çš„å€¼ã€‚

```python
from DrissionPage import Chromium

tab = Chromium().latest_tab
tab.get('https://DrissionPage.cn', retry=1, interval=1, timeout=1.5)
```



------

## âœ…ï¸ï¸ åŠ è½½æ¨¡å¼

### ğŸ“Œ æ¦‚è¿°

åŠ è½½æ¨¡å¼æ˜¯æŒ‡ d æ¨¡å¼ä¸‹ç¨‹åºåœ¨é¡µé¢åŠ è½½é˜¶æ®µçš„è¡Œä¸ºæ¨¡å¼ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§ï¼š

- `normal()`ï¼šå¸¸è§„æ¨¡å¼ï¼Œä¼šç­‰å¾…é¡µé¢åŠ è½½å®Œæ¯•ï¼Œè¶…æ—¶è‡ªåŠ¨é‡è¯•æˆ–åœæ­¢ï¼Œé»˜è®¤ä½¿ç”¨æ­¤æ¨¡å¼
- `eager()`ï¼šåŠ è½½å®Œ DOM æˆ–è¶…æ—¶å³åœæ­¢åŠ è½½ï¼Œä¸åŠ è½½é¡µé¢èµ„æº
- `none()`ï¼šè¶…æ—¶ä¹Ÿä¸ä¼šè‡ªåŠ¨åœæ­¢ï¼Œé™¤éåŠ è½½å®Œæˆ

å‰ä¸¤ç§æ¨¡å¼ä¸‹ï¼Œé¡µé¢åŠ è½½è¿‡ç¨‹ä¼šé˜»å¡ç¨‹åºï¼Œç›´åˆ°åŠ è½½å®Œæ¯•æ‰æ‰§è¡Œåé¢çš„æ“ä½œã€‚

`none()`æ¨¡å¼ä¸‹ï¼Œåªåœ¨è¿æ¥é˜¶æ®µé˜»å¡ç¨‹åºï¼ŒåŠ è½½é˜¶æ®µå¯è‡ªè¡Œæ ¹æ®æƒ…å†µæ‰§è¡Œ`stop_loading()`åœæ­¢åŠ è½½ã€‚

è¿™æ ·æä¾›ç»™ç”¨æˆ·éå¸¸å¤§çš„è‡ªç”±åº¦ï¼Œå¯ç­‰åˆ°å…³é”®æ•°æ®åŒ…æˆ–å…ƒç´ å‡ºç°å°±ä¸»åŠ¨åœæ­¢é¡µé¢åŠ è½½ï¼Œå¤§å¹…æå‡æ‰§è¡Œæ•ˆç‡ã€‚

> [!IMPORTANT]
>
> åŠ è½½å®Œæˆæ˜¯æŒ‡ä¸»æ–‡æ¡£å®Œæˆï¼Œå¹¶ä¸åŒ…æ‹¬ç”± js è§¦å‘çš„åŠ è½½å’Œé‡å®šå‘çš„åŠ è½½ã€‚ å½“æ–‡æ¡£åŠ è½½å®Œæˆï¼Œç¨‹åºå°±åˆ¤æ–­åŠ è½½å®Œæ¯•ï¼Œæ­¤åå‘ç”Ÿçš„é‡å®šå‘æˆ– js åŠ è½½æ•°æ®éœ€ç”¨å…¶å®ƒé€»è¾‘å¤„ç†ã€‚

**ç¤ºä¾‹ï¼š**

```python
from DrissionPage import Chromium

tab = Chromium().latest_tab
tab.set.load_mode.eager()  # è®¾ç½®ä¸ºeageræ¨¡å¼
tab.get('https://DrissionPage.cn')
```



------

### ğŸ“Œ æ¨¡å¼è®¾ç½®

å¯é€šè¿‡ ini æ–‡ä»¶ã€`ChromiumOptions`å¯¹è±¡å’Œé¡µé¢å¯¹è±¡çš„`set.load_mode.****()`æ–¹æ³•è¿›è¡Œè®¾ç½®ã€‚

è¿è¡Œæ—¶å¯éšæ—¶åŠ¨æ€è®¾ç½®ã€‚

**é…ç½®å¯¹è±¡ä¸­è®¾ç½®**

```python
from DrissionPage import ChromiumOptions, Chromium

co = ChromiumOptions().set_load_mode('none')
browser = Chromium(co)
```



**è¿è¡Œä¸­è®¾ç½®**

```python
from DrissionPage import Chromium

tab = Chromium().latest_tab
tab.set.load_mode.none()
```



------

### ğŸ“Œ `none`æ¨¡å¼æŠ€å·§

**ç¤ºä¾‹ 1ï¼Œé…åˆç›‘å¬å™¨**

è·Ÿç›‘å¬å™¨é…åˆï¼Œå¯åœ¨è·å–åˆ°éœ€è¦çš„æ•°æ®åŒ…æ—¶ï¼Œä¸»åŠ¨åœæ­¢åŠ è½½ã€‚

```python
from DrissionPage import Chromium

tab = Chromium().latest_tab
tab.set.load_mode.none()  # è®¾ç½®åŠ è½½æ¨¡å¼ä¸ºnone

tab.listen.start('api/getkeydata')  # æŒ‡å®šç›‘å¬ç›®æ ‡å¹¶å¯åŠ¨ç›‘å¬
tab.get('http://www.hao123.com/')  # è®¿é—®ç½‘ç«™
packet = tab.listen.wait()  # ç­‰å¾…æ•°æ®åŒ…
tab.stop_loading()  # ä¸»åŠ¨åœæ­¢åŠ è½½
print(packet.response.body)  # æ‰“å°æ•°æ®åŒ…æ­£æ–‡
```



**ç¤ºä¾‹ 2ï¼Œé…åˆå…ƒç´ æŸ¥æ‰¾**

è·Ÿå…ƒç´ æŸ¥æ‰¾é…åˆï¼Œå¯åœ¨è·å–åˆ°æŸä¸ªæŒ‡å®šå…ƒç´ æ—¶ï¼Œä¸»åŠ¨åœæ­¢åŠ è½½ã€‚

```python
from DrissionPage import Chromium

tab = Chromium().latest_tab
tab.set.load_mode.none()  # è®¾ç½®åŠ è½½æ¨¡å¼ä¸ºnone

tab.get('http://www.hao123.com/')  # è®¿é—®ç½‘ç«™
ele = tab.ele('ä¸­å›½æ—¥æŠ¥')  # æŸ¥æ‰¾textåŒ…å«â€œä¸­å›½æ—¥æŠ¥â€çš„å…ƒç´ 
tab.stop_loading()  # ä¸»åŠ¨åœæ­¢åŠ è½½
print(ele.text)  # æ‰“å°å…ƒç´ text
```



**ç¤ºä¾‹ 2ï¼Œé…åˆé¡µé¢ç‰¹å¾**

å¯ç­‰å¾…åˆ°é¡µé¢åˆ°è¾¾æŸç§çŠ¶æ€æ—¶ï¼Œä¸»åŠ¨åœæ­¢åŠ è½½ã€‚æ¯”å¦‚å¤šçº§è·³è½¬çš„ç™»å½•ï¼Œå¯ç­‰å¾… title å˜åŒ–åˆ°æœ€ç»ˆç›®æ ‡ç½‘å€æ—¶åœæ­¢ã€‚

```python
from DrissionPage import Chromium

tab = Chromium().latest_tab
tab.set.load_mode.none()  # è®¾ç½®åŠ è½½æ¨¡å¼ä¸ºnone

tab.get('http://www.hao123.com/')  # è®¿é—®ç½‘ç«™
tab.wait.title_change('hao123')  # ç­‰å¾…titleå˜åŒ–å‡ºç°ç›®æ ‡æ–‡æœ¬
tab.stop_loading()  # ä¸»åŠ¨åœæ­¢åŠ è½½
```